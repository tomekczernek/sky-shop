<!DOCTYPE html>
<html lang="pl">
<head>
    <title>Sky Shop</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="owl.carousel.min.css">
    <link rel="stylesheet" href="owl.theme.default.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet/less" type="text/css" href="style-sky.less" />
    <script src="less.min.js"></script>
    <script src="owl.carousel.min.js"></script>
</head>
<body>

    <header>
        <nav id="sky-nav-header-navbar" class="fixed-top bg-white">
            <div class="container">
                <div id="sky-header-line-1" class="d-flex justify-content-between py-1">
                    <div class="sky-mobile-remove">
                        <i class="fas fa-envelope sky-icon-blue"></i>
                        <span class="px-2">zabawki@amisia.pl</span>
                        <i class="fas fa-phone sky-icon-blue"></i>
                        <span class="px-2">+48 58 304 79 77</span>
                    </div>
                    <div id="sky-utilities" class="sky-inline">
                        <div class="sky-inline pl-2">
                            <i class="fas fa-dollar-sign sky-icon-blue"></i>
                            <span class="px-2 sky-mobile-small-remove">Waluta: </span>
                            <span id="sky-">PLN</span>
                            <div class="btn-group">
                                <button type="button" class="btn p-0 dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                                <div class="dropdown-menu">
                                    <p class="dropdown-item sky-drop-item">PLN</p>
                                    <p class="dropdown-item sky-drop-item">EUR</p>
                                </div>
                            </div>
                        </div>
                        <div class="sky-inline pl-2">
                            <i class="fas fa-user sky-icon-blue"></i>
                            <span class="px-2 sky-mobile-small-remove">Strefa klienta</span>
                            <div class="btn-group">
                                <button type="button" class="btn p-0 dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                                <div class="dropdown-menu">
                                    <a class="dropdown-item" href="#">Zaloguj się</a>
                                    <a class="dropdown-item" href="#">Zarejestruj się</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="sky-header-line-2" class="d-flex justify-content-between py-1">
                    <div class="align-self-center sky-mobile-remove">
                        <img id="sky-image-logo" src="images/logo.jpg" alt="Logo">
                    </div>
                    <div class="align-self-center w-50">
                        <div class="sky-inline align-self-center">
                            <input id="sky-search" type="text" placeholder="WYSZUKAJ" class="w-75 p-2 border border-right-0 sky-border-grey">
                            <button id="sky-search-btn" type="submit" class="w-25 text-right bg-white p-2 pr-3 border border-left-0 sky-border-grey">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>
                    <div class="align-self-center">
                        <button class="btn sky-btn text-danger p-2">
                            <span id="sky-basket-amount" class="pl-2">0,00</span>
                            <span id="sky-active-currency" class="pr-2">zł</span>
                            <i class="fas fa-shopping-basket sky-icon-dark"></i>
                        </button>
                    </div>
                </div> 
            </div>
        </nav>
    </header>

    <header id="sky-nav-menu">
        <nav id="sky-nav-menu-navbar" class="navbar navbar-expand-md sky-nav fixed-top navbar-light ">
            <div class="container"> 
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#sky-nav-btn">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse row" id="sky-nav-btn">
                    <div class="col-md-3 border-right border-left border-white">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" href="#"><i class="fas fa-bars pr-2"></i>Wszystkie kategorie</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-md-9">
                        <ul class="navbar-nav d-flex justify-content-around">
                            <li class="nav-item">
                                <a class="nav-link" href="#">Promocje</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">Rejestracja</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">O nas</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">Dostawa</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">Regulamin</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">Kontakt</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
    </header>
    
    <section>
        <section id="sky-products-list" class="sky-mobile-remove">
            <div class="container">
                <div class="row ">
                    <div class="col-md-3 px-0">
                        <ul class="list-group border border-top-0 rounded-0 sky-border">
                            <li class="list-group-item sky-product-item px-4 py-3">Zabawki</li>
                            <li class="list-group-item sky-product-item px-4 py-3">Moda dziecięca</li>
                            <li class="list-group-item sky-product-item px-4 py-3">Obuwie dziecięce</li>
                            <li class="list-group-item sky-product-item px-4 py-3">Higiena i kosmetyki</li>
                            <li class="list-group-item sky-product-item px-4 py-3">Wóżki</li>
                            <li class="list-group-item sky-product-item px-4 py-3">Tekstylia domowe</li>
                            <li class="list-group-item sky-product-item px-4 py-3">Akcesoria</li>
                        </ul>
                    </div>
                    <div class="col-md-9 px-0 bg-danger">
                        
                    </div>
                </div>
            </div>
        </section>

        <section id="sky-choice">
            <div class="container">
                <div class="row p-0">
                    <div id="sky-choice-img-1" class="col-md-6 pl-0 my-4">
                        <img src="images/boy.jpg" width="100%" alt="Boy Image">
                    </div>
                    <div id="sky-choice-img-2" class="col-md-6 pr-0 my-4">
                        <img src="images/girl.jpg" width="100%" alt="Girl Image">
                    </div>
                </div>
            </div>
        </section>

        <section id="sky-carousel-toys">
            <div class="container px-0 py-3">
                <div class="text-center">
                    <h4 class="sky-carousel-toys-title py-3">BESTSELLER</h4>
                </div>
                <div id="sky-carousel-toys-container" class="owl-carousel"></div>
            </div>
        </section>   
    </section>

    <footer>
        <div class="container">
            <div class="row mb-5">
                <div class="col-md-3 col-sm-6">
                    <h4 class="sky-h4-title py-4">Informacje</h4>
                    <ul class="sky-footer-list">
                        <li class="sky-footer-list-item">
                            <a href="#">Twoje zamówienie</a>
                        </li>
                        <li class="sky-footer-list-item">
                            <a href="#">Ustawienie konta</a>
                        </li>
                        <li class="sky-footer-list-item">
                            <a href="#">Przechowalnia</a>
                        </li>
                        <li class="sky-footer-list-item">
                            <a href="#">Wysyłka i płatności</a>
                        </li>
                        <li class="sky-footer-list-item">
                            <a href="#">Zwroty i reklamacje</a>
                        </li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <h4 class="sky-h4-title py-4">Obsługa klienta</h4>
                    <ul class="sky-footer-list">
                        <li class="sky-footer-list-item">
                            <a href="#">Moje konto</a>
                        </li>
                        <li class="sky-footer-list-item">
                            <a href="#">Zwroty, wymiany, reklamacje</a>
                        </li>
                        <li class="sky-footer-list-item">
                            <a href="#">Formy płatności</a>
                        </li>
                        <li class="sky-footer-list-item">
                            <a href="#">Koszyu i formy dostawy</a>
                        </li>
                        <li class="sky-footer-list-item">
                            <a href="#">Czas realizacji zamówienia</a>
                        </li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <h4 class="sky-h4-title py-4">Kontakt z nami</h4>
                    <ul class="sky-footer-list">
                        <li class="sky-footer-list-item">
                            <span>ul. Nadmorska 3,</span>
                        </li>
                        <li class="sky-footer-list-item">
                            <span>02-234 Warszawa</span>
                        </li>
                        <li class="sky-footer-list-item">
                            <span>&nbsp;</span>
                        </li>
                        <li class="sky-footer-list-item">
                            <span>zabawki@amisia.pl</span>
                        </li>
                        <li class="sky-footer-list-item">
                            <span>+48 522 123 123</span>
                        </li>
                    </ul>
                </div>

                <div class="col-md-3 col-sm-6">
                    <div class="py-4">
                        <img src="images/logo.jpg" alt="Logo">
                    </div>
                </div>

            </div>
        </div>
    </footer>

    <div class="modal fade" id="sky-add-to-basket">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="sky-add-to-basket-title"></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body text-center" id="sky-add-to-basket-body">

                </div>
                <div class="text-center py-3">
                    <button class="btn sky-btn text-danger p-2" data-dismiss="modal" aria-label="Close">Dodaj do koszyka</button>
                </div>
            </div>
        </div>
    </div>

    <div id="sky-search-modal" class="modal">
        <div class="modal-dialog modal-dialog-scrollable">
            <div id="sky-search-modal-content" class="modal-content rounded-0">
                <div class="modal-header">
                    <h5 id="sky-search-modal-title" class="modal-title"></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div id="sky-search-modal-body" class="modal-body p-0 m-0">
                </div>
            </div>
        </div>
    </div>

<script>
    $(document).ready(function(){
       
        $(document).on('click', '#sky-search-btn', function(e){

            e.preventDefault();
            const searchValue = $('#sky-search').val();

            $.ajax({
                dataType: "json",
                url: 'search.json',
                success: function(result) { 

                    let arrayOfObject = result.items.filter(function(item){
                        return item.type === searchValue;
                    });

                    const modalBody = $('#sky-search-modal-body');
                    modalBody.empty();
                    $('#sky-search-modal-title').text('Szukana fraza: '+searchValue);
                    const list = $('<ul>').addClass("list-group p-0 m-0").appendTo(modalBody);

                    if(arrayOfObject.length === 0){
                        $('<li>',{text:'Brak wyników...'}).addClass("list-group-item").appendTo(list);
                    }
                    else{
                        arrayOfObject.forEach(function(item){
                            let listElement = $('<li>',{}).addClass("list-group-item d-flex justify-content-between").appendTo(list);
                            $('<span>',{text: item.name}).addClass('w-25 align-self-center').appendTo(listElement);
                            $('<span>',{text: item.price + ' zł'}).addClass('w-25 align-self-center').appendTo(listElement);
                            $('<img>',{src: item.src, alter:"Image"}).addClass('w-25 align-self-center sky-search-image').appendTo(listElement);
                        });
                    }
                    $('#sky-search-modal').modal();

                },
                error: function(e){
                    console.log(e);
                }
            });
            
        });

        $(document).on('click', '.showModalOnClick', function() {

            const toyName = $(this).data("name");
            const toyPrice = $(this).data("price");
            const toySrc = $(this).data("src");
            const toyModalContent = $('#sky-add-to-basket-body')
            toyModalContent.empty();

            $('#sky-add-to-basket-title').text(toyName);
            $('<img>',{alt: "Toy Image"}).attr('src', toySrc).addClass("p-2").appendTo(toyModalContent);
            $('<p>',{text: toyPrice + " zl"}).addClass("text-danger mb-1").appendTo(toyModalContent);
            $('#sky-add-to-basket').modal();
        });

        $.ajax({
            dataType: "json",
            url: 'toysList.json',
            success: function(result) {
                const toysContainer = $('#sky-carousel-toys-container');
                result.items.forEach(function(item){

                    let toysDivMaster = $('<div>').addClass("sky-carousel-main bg-white showModalOnClick").data('name', item.name).data('price', item.price).data('src', item.src).appendTo(toysContainer);
                    let toysDivHeader = $('<div>').addClass("pt-3 font-weight-bold").appendTo(toysDivMaster);
                    $('<span>',{text:item.type}).addClass("float-left text-uppercase pt-1 pl-2").appendTo(toysDivHeader);
                    let toysDivContent = $('<div>').addClass("text-center p-2").appendTo(toysDivMaster);
                    $('<img>',{alt: "Toy Image"}).attr('src',item.src).addClass("p-4").appendTo(toysDivContent);
                    $('<p>',{text:item.name}).addClass("sky-carousel-name px-3 py-2").appendTo(toysDivContent);
                    $('<p>',{text:item.price+" zł"}).addClass("sky-carousel-price text-danger mb-1").appendTo(toysDivContent);
                    if(item.sale){
                        $('<span>',{text:item.salePercent+"%"}).addClass("float-right bg-danger text-white rounded py-1 px-2").appendTo(toysDivHeader);
                        $('<p>',{text:item.oldPrice+" zł"}).addClass("sky-carousel-old-price m-0 p-0 pb-2").appendTo(toysDivContent);
                    }
                    else{
                        $('<p>',{text:""}).addClass("m-0 p-0 pb-2 text-white").append("&nbsp;").appendTo(toysDivContent);
                    }
                });

                $('.owl-carousel').owlCarousel({
                    loop:true,
                    margin:20,
                    responsiveClass:true,
                    navText: ['<i class="fa fa-angle-left sky-skip-element "></i>', '<i class="fa fa-angle-right sky-skip-element"></i>'],
                    responsive:{
                        10:{
                            items:1
                        },
                        768:{
                            items:2,
                            nav:true
                        },
                        1140:{
                            items:4,
                            nav:true
                        }
                    }
                })
            },
            error: function(e){
                console.log(e);
            }
        });

        $(window).scroll(function(){
            if ($(document).scrollTop() > 1 && $(document).width() > 768){ 
                
                $('body').addClass("sky-body-scroll");
                $('#sky-nav-header-navbar').addClass('sky-nav-header-navbar-scroll');
                $('#sky-nav-menu-navbar').addClass('sky-nav-menu-navbar-scroll');
                $('#sky-image-logo').addClass("sky-scroll-image");
            } 
            else {
                
                $('body').removeClass("sky-body-scroll");
                $('#sky-nav-header-navbar').removeClass('sky-nav-header-navbar-scroll');
                $('#sky-nav-menu-navbar').removeClass('sky-nav-menu-navbar-scroll');
                $('#sky-image-logo').removeClass("sky-scroll-image");
            }
        });

    });
</script>
</body>
</html>